function open_nav(){main_nav.classList.add("open"),nav_is_open=!0}function close_nav(){main_nav.classList.add("nav-out"),setTimeout(function(){main_nav.classList.remove("open"),main_nav.classList.remove("nav-out")},250),nav_is_open=!1}function handle_nav_button_click(){document.body.classList.toggle("no-scroll"),nav_is_open?close_nav():open_nav()}function close_dropdown(){setTimeout(function(){mouse_over_nav_item||($("#backdrop").css("transform","translateY(0)"),$("#header").removeClass("dropdown-engaged"),$(".main-nav-item.hover").removeClass("hover"))},100)}function nav_item_dropdown(e){$(e).siblings().removeClass("hover");var t=$(e).find(".sub-nav").height(),i=t+10;$("#backdrop").css("transform","translateY("+i+"px)"),$(e).addClass("hover")}function handle_mouse_enter(e){mouse_over_nav_item=!0,$("#header").hasClass("dropdown-engaged")?nav_item_dropdown(e):setTimeout(function(){mouse_over_nav_item&&(nav_item_dropdown(e),$("#header").addClass("dropdown-engaged"))},200)}function handle_mouse_leave(e){mouse_over_nav_item=!1,setTimeout(function(){mouse_over_backdrop||($(e).removeClass("hover"),close_dropdown())},10)}function dropdown_menu_hover(){$("#backdrop").hover(function(){mouse_over_backdrop=!0},function(){mouse_over_backdrop=!1,close_dropdown()}),$(".main-nav-item").hover(function(e){handle_mouse_enter(this)},function(e){handle_mouse_leave(this)})}function dropdown_menu_tap(){$(".main-nav-item > a").click(function(e){e.preventDefault(),$(this).parent().toggleClass("expanded")})}function hide_search_bar(e){var t=$("#header-search");$(e.target).parents("#header-search").length||$(e.target)[0]===t||($("#search-site").blur(),t.removeClass("active"),document.removeEventListener("click",hide_search_bar))}function circumference(e){return 2*Math.PI*e}function active_slide(e){return e.slides[e.realIndex+1]}function render_progress_circle(e){var t=e.$el[0],i=t.querySelector(".progress-circle");progress=i.querySelector(".progress"),total=i.querySelector(".total");var n=progress.getAttribute("r"),s=circumference(n),o=t.querySelectorAll(".swiper-slide-duplicate"),a=e.slides.length-o.length;fraction=s/a;var r=fraction+", "+(s-fraction);progress.setAttribute("stroke-dasharray",r),progress.setAttribute("stroke-dashoffset",0)}function append_slide_content(e){var t=e.querySelectorAll("h5")[0],i=e.querySelectorAll("h1")[0],n=slide_content_inner.querySelectorAll("h5")[0],s=slide_content_inner.querySelectorAll("h1")[0];n.innerHTML=t.innerHTML,s.innerHTML=i.innerHTML}function rotate_progress_circle(e){var t=parseFloat(progress.getAttribute("stroke-dashoffset"));"prev"===e?progress.setAttribute("stroke-dashoffset",t+fraction):progress.setAttribute("stroke-dashoffset",t-fraction)}function initialize_hero_swiper(e){append_slide_content(active_slide(e)),render_progress_circle(e),e.$el[0].classList.add("initiated")}function slide_to(e){translate_circles(slides[e].getAttribute("data-translate"))}function translate_circles(e){$(".fam-circle-swiper .swiper-wrapper").css("transform","translate3d("+e+"px, 0px, 0px)"),current_position=e}function get_translate_values(e){for(var t=Math.floor(slides.length/2),i,n=0;n<slides.length;n++)i=(small_circle+margin)*(t-n)+e,slides[n].setAttribute("data-translate",i)}function initialize_swiper_manually(){translate_circles(fam_circle_swiper.getTranslate()),$(".fam-circle-swiper").addClass("initialized"),start_position=current_position-big_circle/2+small_circle/2,get_translate_values(start_position),fam_circle_swiper.setTransition(300),setTimeout(function(){$(".fam-circle-swiper").addClass("active"),translate_circles(start_position),swiper_is_active=!0},1e3)}function fam_circle_slide_change(e){swiper_is_active&&slide_to(e.activeIndex)}function view_active_team_bio(e){$(e).addClass("active"),$("body").addClass("no-scroll")}function check_team_url(){window.location.hash&&view_active_team_bio(window.location.hash)}function close_active_team_bio(e){$("body").removeClass("no-scroll"),e.addClass("fade-out"),setTimeout(function(){e.removeClass("active"),e.removeClass("fade-out")},250)}function toggle_dropdown_list(e,t){t.hasClass("open")?(t.removeClass("open"),setTimeout(function(){t.slideUp(150),e.removeClass("list-open")},50)):(e.addClass("list-open"),t.slideDown(150,function(){t.addClass("open")}))}var mq_small=window.matchMedia("(min-width: 480px)"),mq_medium=window.matchMedia("(min-width: 720px)"),main_nav=document.getElementById("main-nav"),nav_button=document.getElementById("menu-toggle"),nav_is_open=!1;nav_button.addEventListener("click",handle_nav_button_click);var mouse_over_nav_item=!1,mouse_over_backdrop=!1;mq_small.matches?dropdown_menu_hover():dropdown_menu_tap(),$("#header-search").click(function(){$(this).hasClass("active")||($(this).addClass("active"),setTimeout(function(){$("#search-site").focus()},200),document.addEventListener("click",hide_search_bar))});var active_slide_content=document.getElementById("active-slide-content"),slide_content_inner;active_slide_content&&(slide_content_inner=active_slide_content.querySelector(".hero-swiper-slide-content"));var fraction,progress,total,hero_swiper=new Swiper(".hero-swiper",{loop:!0,threshold:5,speed:600,longSwipesRatio:.35,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){initialize_hero_swiper(this)}},breakpoints:{720:{autoplay:!1,speed:300,longSwipesRatio:.5}}});hero_swiper.on("slideChange",function(){slide_content_inner.classList.add("transparent");for(var e=active_slide(this),t=e.classList,i=0;i<t.length;i++){"color"===t[i].split("-")[0]&&(active_slide_content.className=t[i])}setTimeout(function(){append_slide_content(e),slide_content_inner.classList.remove("transparent")},200)}),hero_swiper.on("slideNextTransitionStart",function(){rotate_progress_circle("next")}),hero_swiper.on("slidePrevTransitionStart",function(){rotate_progress_circle("prev")});var fam_circle_swiper=new Swiper(".fam-circle-swiper",{slidesPerView:"auto",roundLengths:!0,centeredSlides:!0,initialSlide:2,virtualTranslate:!0,init:!1,slideToClickedSlide:!0,allowTouchMove:!1,on:{slideChangeTransitionStart:function(){fam_circle_slide_change(this)}},breakpoints:{720:{freeMode:!0,allowTouchMove:!0,centeredSlides:!1,initialSlide:0,virtualTranslate:!1,init:!0,slideToClickedSlide:!1,on:{slideChangeTransitionStart:function(){}}}}}),fam_circles=document.getElementById("fam-circle-swiper"),slides,start_position=0,current_position=0,small_circle=180,big_circle=620,margin=10,t=small_circle/2+big_circle/2+margin,swiper_is_active=!1;fam_circle_swiper.on("init",function(){mq_medium.matches&&initialize_swiper_manually()}),$(".fam-circle-swiper .swiper-slide").click(function(){if(mq_medium.matches){var e=$(this).index();fam_circle_swiper.slideTo(e,300)}});var staff_list=document.getElementById("staff-list");$(".team-member-link").click(function(e){view_active_team_bio($(this).attr("href"))}),$(".close-bio").click(function(){close_active_team_bio($(this).closest(".team-bio-container"))}),$(document).keyup(function(e){27==e.keyCode&&close_active_team_bio($(".team-bio-container.active"))}),$(".team-bio-container").click(function(e){$(e.target).parents(".team-bio-container").length||close_active_team_bio($(this))}),$(".btn--dropdown").click(function(e){var t=$(this).next(".dropdown-list");t.length&&toggle_dropdown_list($(this),t)}),$(document).ready(function(){fam_circles?slides=fam_circles.querySelectorAll(".swiper-slide"):staff_list&&check_team_url()}),$(window).on("load",function(){fam_circles&&fam_circle_swiper.init()});
//# sourceMappingURL=./scripts.min.js.map